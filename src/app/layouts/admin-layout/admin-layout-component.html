<div class="admin-layout">
  <!-- Top Navigation Bar -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-gradient sticky-top shadow">
    <div class="container-fluid px-4">
      <button class="btn btn-link text-white me-3 sidebar-toggle" (click)="toggleSidebar()">
        <i class="bi bi-list fs-4"></i>
      </button>
      <a class="navbar-brand fw-bold d-flex align-items-center" href="#">
        <img src="shiraalogo.png" alt="Shiraa Logo" class="navbar-logo"> 
        <span class="m-2 ms-2 text-white small fw-normal">{{ 'navbar.title' | translate }}</span>
      </a>

     

      <div class="d-flex align-items-center ms-auto">


        <!-- User Profile Dropdown -->
        <div class="dropdown">
          <button class="btn btn-link text-white dropdown-toggle d-flex align-items-center" type="button" data-bs-toggle="dropdown">
            <img src="https://ui-avatars.com/api/?name={{userInitials}}&background=0d47a1&color=fff" class="rounded-circle me-2" width="35" height="35" [alt]="userFullName">
            <span class="d-none d-lg-block">{{ userFullName }}</span>
          </button>
          <ul class="dropdown-menu dropdown-menu-end shadow">
            <li class="dropdown-header">
              <strong>{{ userFullName }}</strong>
              <br>
              <small class="text-muted">{{ user?.email }}</small>
            </li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item" routerLink="/admin/profile"><i class="bi bi-person me-2"></i>{{ 'navbar.myProfile' | translate }}</a></li>
            <li><a class="dropdown-item" href="#"><i class="bi bi-gear me-2"></i>{{ 'navbar.settings' | translate }}</a></li>
            <li><a class="dropdown-item" href="#"><i class="bi bi-question-circle me-2"></i>{{ 'navbar.helpCenter' | translate }}</a></li>
            <li><hr class="dropdown-divider"></li>
            <li class="dropdown-header">
              <small class="text-muted">Language</small>
            </li>
            <li>
              <a class="dropdown-item d-flex align-items-center" href="javascript:void(0)" (click)="setLanguage('en')" [class.active]="currentLanguage === 'en'">
                 English
                <i class="bi bi-check ms-auto" *ngIf="currentLanguage === 'en'"></i>
              </a>
            </li>
            <li>
              <a class="dropdown-item d-flex align-items-center" href="javascript:void(0)" (click)="setLanguage('ar')" [class.active]="currentLanguage === 'ar'">
                 العربية
                <i class="bi bi-check ms-auto" *ngIf="currentLanguage === 'ar'"></i>
              </a>
            </li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item text-danger" href="javascript:void(0)" (click)="logout()"><i class="bi bi-box-arrow-right me-2"></i>{{ 'navbar.logout' | translate }}</a></li>
          </ul>
        </div>
      </div>
    </div>
  </nav>

  <div class="d-flex layout-wrapper">
    <!-- Sidebar -->
    <aside class="sidebar" [class.collapsed]="sidebarCollapsed">
      <div class="sidebar-content">
        <!-- User Info Card -->
        <div class="user-card">
          <div class="user-avatar">
            <img src="https://ui-avatars.com/api/?name={{userInitials}}&background=0d47a1&color=fff" class="rounded-circle" width="50" height="50" [alt]="userFullName">
          </div>
          <div class="user-info" *ngIf="!sidebarCollapsed">
            <h6 class="mb-0">{{ userFullName }}</h6>
            <small class="text-muted">{{ user?.email }}</small>
          </div>
        </div>

        <hr class="sidebar-divider">

        <!-- Navigation Menu -->
        <nav class="sidebar-nav">
          <div class="nav-section">
            <h6 class="nav-section-title" *ngIf="!sidebarCollapsed">{{ 'sidebar.mainMenu' | translate }}</h6>
            <ul class="nav flex-column">
              <li class="nav-item">
                <a class="nav-link" routerLink="/admin" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}" [title]="'sidebar.dashboard' | translate">
                  <i class="bi bi-speedometer2"></i>
                  <span *ngIf="!sidebarCollapsed">{{ 'sidebar.dashboard' | translate }}</span>
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#" [title]="'sidebar.home' | translate">
                  <i class="bi bi-graph-up"></i>
                  <span *ngIf="!sidebarCollapsed">{{ 'sidebar.home' | translate }}</span>
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="https://shiraa.app/" target="_blank" [title]="'sidebar.help' | translate">
                  <i class="bi bi-question-circle"></i>
                  <span *ngIf="!sidebarCollapsed">{{ 'sidebar.help' | translate }}</span>
                </a>
              </li>

            </ul>
          </div>

          <div class="nav-section">
            <h6 class="nav-section-title" *ngIf="!sidebarCollapsed">{{ 'sidebar.management' | translate }}</h6>
            <ul class="nav flex-column">
              <li class="nav-item">
                <a class="nav-link" routerLink="/admin/categories" routerLinkActive="active" [title]="'sidebar.categories' | translate">
                  <i class="bi bi-grid"></i>
                  <span *ngIf="!sidebarCollapsed">{{ 'sidebar.categories' | translate }}</span>
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" routerLink="/admin/addresses" routerLinkActive="active" [title]="'sidebar.addresses' | translate">
                  <i class="bi bi-geo-alt"></i>
                  <span *ngIf="!sidebarCollapsed">{{ 'sidebar.addresses' | translate }}</span>
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" routerLink="/admin/countries" routerLinkActive="active" [title]="'sidebar.countries' | translate">
                  <i class="bi bi-globe"></i>
                  <span *ngIf="!sidebarCollapsed">{{ 'sidebar.countries' | translate }}</span>
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" routerLink="/admin/cities" routerLinkActive="active" [title]="'sidebar.cities' | translate">
                  <i class="bi bi-building"></i>
                  <span *ngIf="!sidebarCollapsed">{{ 'sidebar.cities' | translate }}</span>
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" routerLink="/admin/suppliers" routerLinkActive="active" [title]="'sidebar.suppliers' | translate">
                  <i class="bi bi-truck"></i>
                  <span *ngIf="!sidebarCollapsed">{{ 'sidebar.suppliers' | translate }}</span>
                </a>
              </li>
            </ul>
          </div>

          <div class="nav-section">
            <h6 class="nav-section-title" *ngIf="!sidebarCollapsed">{{ 'sidebar.supplier' | translate }}</h6>
            <ul class="nav flex-column">
              <li class="nav-item">
                <a class="nav-link" routerLink="/admin/profile" routerLinkActive="active" [title]="'sidebar.profile' | translate">
                  <i class="bi bi-person-badge"></i>
                  <span *ngIf="!sidebarCollapsed">{{ 'sidebar.profile' | translate }}</span>
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#" [title]="'sidebar.reqs' | translate">
                  <i class="bi bi-file-earmark-text"></i>
                  <span *ngIf="!sidebarCollapsed">{{ 'sidebar.reqs' | translate }}</span>
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#" [title]="'sidebar.offers' | translate">
                  <i class="bi bi-tag"></i>
                  <span *ngIf="!sidebarCollapsed">{{ 'sidebar.offers' | translate }}</span>
                </a>
              </li>
            </ul>
          </div>


        </nav>
      </div>


    </aside>

    <!-- Main Content Area -->
    <main class="main-content">
      <div class="content-wrapper">
        <router-outlet></router-outlet>
      </div>

      <!-- Footer -->
      <footer class="content-footer">
        <div class="d-flex justify-content-between align-items-center">
          <span class="text-muted small">{{ 'footer.copyright' | translate: { year: date.getFullYear() } }}</span>

        </div>
      </footer>
    </main>
  </div>
</div>
