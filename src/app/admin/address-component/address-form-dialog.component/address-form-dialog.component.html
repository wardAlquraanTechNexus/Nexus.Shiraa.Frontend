<app-base-dialog
  [title]="data.address ? 'Edit Address' : 'New Address'"
  [subtitle]="data.address ? 'Update the address details below' : 'Fill in the details to create a new address'"
  [icon]="data.address ? 'edit' : 'add_circle'"
  [saveText]="data.address ? 'Update Address' : 'Create Address'"
  [saveIcon]="data.address ? 'save' : 'add'"
  [isSubmitting]="isSubmitting"
  [disableSave]="addressForm.invalid"
  (save)="onSubmit()">

  <form [formGroup]="addressForm">
    <!-- Basic Info Section -->
    <div class="form-section">
      <div class="form-row">
        <app-text-input
          label="Number"
          placeholder="e.g. ADDR-001"
          icon="tag"
          [formGroup]="addressForm"
          controlName="number">
        </app-text-input>

        <app-text-input
          label="Name"
          placeholder="Enter address name"
          icon="label"
          [formGroup]="addressForm"
          controlName="name">
        </app-text-input>
      </div>

      <div class="form-row">
        <app-select-input
          label="Supplier"
          placeholder="Select supplier"
          icon="business"
          [options]="supplierOptions$"
          [formGroup]="addressForm"
          controlName="supplierId">
        </app-select-input>
      </div>
    </div>

    <!-- Address Details Section -->
    <div class="form-section">
      <div class="form-row">
        <app-textarea-input
          label="Address Line"
          placeholder="Enter full address..."
          icon="location_on"
          [rows]="2"
          [formGroup]="addressForm"
          controlName="addressLine">
        </app-textarea-input>
      </div>

      <div class="form-row">
        <app-select-input
          label="Country"
          placeholder="Select country"
          icon="public"
          [options]="countryOptions$"
          [formGroup]="addressForm"
          controlName="countryId"
          (selectionChange)="onCountryChange($event)">
        </app-select-input>

        <app-select-input
          label="City"
          placeholder="Select city"
          icon="location_city"
          [options]="cityOptions$"
          [formGroup]="addressForm"
          controlName="cityId">
        </app-select-input>
      </div>
    </div>

    <!-- Notes Section -->
    <div class="form-section">
      <div class="form-row">
        <app-textarea-input
          label="Note"
          placeholder="Add any additional notes..."
          icon="notes"
          [rows]="2"
          [formGroup]="addressForm"
          controlName="note">
        </app-textarea-input>
      </div>
    </div>

    <!-- Status Section -->
    <div class="form-section">
      <app-slide-toggle-input
        label="Status"
        activeText="Active"
        inactiveText="Inactive"
        [formGroup]="addressForm"
        controlName="isActive">
      </app-slide-toggle-input>
    </div>
  </form>

</app-base-dialog>
